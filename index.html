<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100-CheckboX</title>
    <link rel="stylesheet" type="text/css" href="/styles.css">
</head>

<body>
    <div class="container">
        <input type="checkbox" name="checkbox-1" id="checkbox-1" class="checkbox">
        <input type="checkbox" name="checkbox-2" id="checkbox-2" class="checkbox">
        <input type="checkbox" name="checkbox-3" id="checkbox-3" class="checkbox">
        <input type="checkbox" name="checkbox-4" id="checkbox-4" class="checkbox">
        <input type="checkbox" name="checkbox-5" id="checkbox-5" class="checkbox">
        <input type="checkbox" name="checkbox-6" id="checkbox-6" class="checkbox">
        <input type="checkbox" name="checkbox-7" id="checkbox-7" class="checkbox">
        <input type="checkbox" name="checkbox-8" id="checkbox-8" class="checkbox">
        <input type="checkbox" name="checkbox-9" id="checkbox-9" class="checkbox">
        <input type="checkbox" name="checkbox-10" id="checkbox-10" class="checkbox">
        <input type="checkbox" name="checkbox-11" id="checkbox-11" class="checkbox">
        <input type="checkbox" name="checkbox-12" id="checkbox-12" class="checkbox">
        <input type="checkbox" name="checkbox-13" id="checkbox-13" class="checkbox">
        <input type="checkbox" name="checkbox-14" id="checkbox-14" class="checkbox">
        <input type="checkbox" name="checkbox-15" id="checkbox-15" class="checkbox">
        <input type="checkbox" name="checkbox-16" id="checkbox-16" class="checkbox">
        <input type="checkbox" name="checkbox-17" id="checkbox-17" class="checkbox">
        <input type="checkbox" name="checkbox-18" id="checkbox-18" class="checkbox">
        <input type="checkbox" name="checkbox-19" id="checkbox-19" class="checkbox">
        <input type="checkbox" name="checkbox-20" id="checkbox-20" class="checkbox">
        <input type="checkbox" name="checkbox-21" id="checkbox-21" class="checkbox">
        <input type="checkbox" name="checkbox-22" id="checkbox-22" class="checkbox">
        <input type="checkbox" name="checkbox-23" id="checkbox-23" class="checkbox">
        <input type="checkbox" name="checkbox-24" id="checkbox-24" class="checkbox">
        <input type="checkbox" name="checkbox-25" id="checkbox-25" class="checkbox">
        <input type="checkbox" name="checkbox-26" id="checkbox-26" class="checkbox">
        <input type="checkbox" name="checkbox-27" id="checkbox-27" class="checkbox">
        <input type="checkbox" name="checkbox-28" id="checkbox-28" class="checkbox">
        <input type="checkbox" name="checkbox-29" id="checkbox-29" class="checkbox">
        <input type="checkbox" name="checkbox-30" id="checkbox-30" class="checkbox">
        <input type="checkbox" name="checkbox-31" id="checkbox-31" class="checkbox">
        <input type="checkbox" name="checkbox-32" id="checkbox-32" class="checkbox">
        <input type="checkbox" name="checkbox-33" id="checkbox-33" class="checkbox">
        <input type="checkbox" name="checkbox-34" id="checkbox-34" class="checkbox">
        <input type="checkbox" name="checkbox-35" id="checkbox-35" class="checkbox">
        <input type="checkbox" name="checkbox-36" id="checkbox-36" class="checkbox">
        <input type="checkbox" name="checkbox-37" id="checkbox-37" class="checkbox">
        <input type="checkbox" name="checkbox-38" id="checkbox-38" class="checkbox">
        <input type="checkbox" name="checkbox-39" id="checkbox-39" class="checkbox">
        <input type="checkbox" name="checkbox-40" id="checkbox-40" class="checkbox">
        <input type="checkbox" name="checkbox-41" id="checkbox-41" class="checkbox">
        <input type="checkbox" name="checkbox-42" id="checkbox-42" class="checkbox">
        <input type="checkbox" name="checkbox-43" id="checkbox-43" class="checkbox">
        <input type="checkbox" name="checkbox-44" id="checkbox-44" class="checkbox">
        <input type="checkbox" name="checkbox-45" id="checkbox-45" class="checkbox">
        <input type="checkbox" name="checkbox-46" id="checkbox-46" class="checkbox">
        <input type="checkbox" name="checkbox-47" id="checkbox-47" class="checkbox">
        <input type="checkbox" name="checkbox-48" id="checkbox-48" class="checkbox">
        <input type="checkbox" name="checkbox-49" id="checkbox-49" class="checkbox">
        <input type="checkbox" name="checkbox-50" id="checkbox-50" class="checkbox">
        <input type="checkbox" name="checkbox-51" id="checkbox-51" class="checkbox">
        <input type="checkbox" name="checkbox-52" id="checkbox-52" class="checkbox">
        <input type="checkbox" name="checkbox-53" id="checkbox-53" class="checkbox">
        <input type="checkbox" name="checkbox-54" id="checkbox-54" class="checkbox">
        <input type="checkbox" name="checkbox-55" id="checkbox-55" class="checkbox">
        <input type="checkbox" name="checkbox-56" id="checkbox-56" class="checkbox">
        <input type="checkbox" name="checkbox-57" id="checkbox-57" class="checkbox">
        <input type="checkbox" name="checkbox-58" id="checkbox-58" class="checkbox">
        <input type="checkbox" name="checkbox-59" id="checkbox-59" class="checkbox">
        <input type="checkbox" name="checkbox-60" id="checkbox-60" class="checkbox">
        <input type="checkbox" name="checkbox-61" id="checkbox-61" class="checkbox">
        <input type="checkbox" name="checkbox-62" id="checkbox-62" class="checkbox">
        <input type="checkbox" name="checkbox-63" id="checkbox-63" class="checkbox">
        <input type="checkbox" name="checkbox-64" id="checkbox-64" class="checkbox">
        <input type="checkbox" name="checkbox-65" id="checkbox-65" class="checkbox">
        <input type="checkbox" name="checkbox-66" id="checkbox-66" class="checkbox">
        <input type="checkbox" name="checkbox-67" id="checkbox-67" class="checkbox">
        <input type="checkbox" name="checkbox-68" id="checkbox-68" class="checkbox">
        <input type="checkbox" name="checkbox-69" id="checkbox-69" class="checkbox">
        <input type="checkbox" name="checkbox-70" id="checkbox-70" class="checkbox">
        <input type="checkbox" name="checkbox-71" id="checkbox-71" class="checkbox">
        <input type="checkbox" name="checkbox-72" id="checkbox-72" class="checkbox">
        <input type="checkbox" name="checkbox-73" id="checkbox-73" class="checkbox">
        <input type="checkbox" name="checkbox-74" id="checkbox-74" class="checkbox">
        <input type="checkbox" name="checkbox-75" id="checkbox-75" class="checkbox">
        <input type="checkbox" name="checkbox-76" id="checkbox-76" class="checkbox">
        <input type="checkbox" name="checkbox-77" id="checkbox-77" class="checkbox">
        <input type="checkbox" name="checkbox-78" id="checkbox-78" class="checkbox">
        <input type="checkbox" name="checkbox-79" id="checkbox-79" class="checkbox">
        <input type="checkbox" name="checkbox-80" id="checkbox-80" class="checkbox">
        <input type="checkbox" name="checkbox-81" id="checkbox-81" class="checkbox">
        <input type="checkbox" name="checkbox-82" id="checkbox-82" class="checkbox">
        <input type="checkbox" name="checkbox-83" id="checkbox-83" class="checkbox">
        <input type="checkbox" name="checkbox-84" id="checkbox-84" class="checkbox">
        <input type="checkbox" name="checkbox-85" id="checkbox-85" class="checkbox">
        <input type="checkbox" name="checkbox-86" id="checkbox-86" class="checkbox">
        <input type="checkbox" name="checkbox-87" id="checkbox-87" class="checkbox">
        <input type="checkbox" name="checkbox-88" id="checkbox-88" class="checkbox">
        <input type="checkbox" name="checkbox-89" id="checkbox-89" class="checkbox">
        <input type="checkbox" name="checkbox-90" id="checkbox-90" class="checkbox">
        <input type="checkbox" name="checkbox-91" id="checkbox-91" class="checkbox">
        <input type="checkbox" name="checkbox-92" id="checkbox-92" class="checkbox">
        <input type="checkbox" name="checkbox-93" id="checkbox-93" class="checkbox">
        <input type="checkbox" name="checkbox-94" id="checkbox-94" class="checkbox">
        <input type="checkbox" name="checkbox-95" id="checkbox-95" class="checkbox">
        <input type="checkbox" name="checkbox-96" id="checkbox-96" class="checkbox">
        <input type="checkbox" name="checkbox-97" id="checkbox-97" class="checkbox">
        <input type="checkbox" name="checkbox-98" id="checkbox-98" class="checkbox">
        <input type="checkbox" name="checkbox-99" id="checkbox-99" class="checkbox">
        <input type="checkbox" name="checkbox-100" id="checkbox-100" class="checkbox">
    </div>


    <script src=" /socket.io/socket.io.js"></script>
    <script>
        const socket = io()

        const checkboxes = [...document.getElementsByClassName('checkbox')]
        // console.log(checkboxes)

        socket.on('initialize', (data) => {
            // console.log(checkboxes)
            checkboxes.forEach((box, index) => {
                // console.log("box", box, index)
                // console.log(Boolean(states[index].state))
                document.getElementById(`${box.id}`).checked = Boolean(data[index].state)
            });
            // console.log(states)
        })

        checkboxes.forEach((checkbox) => {
            checkbox.addEventListener('change', (e) => {
                data = {
                    id: checkbox.name,
                    checked: checkbox.checked
                }
                // console.log(data)
                socket.emit('checked', data)
            })
        })


        socket.on('checked', ({ id, checked }) => {
            // console.log(id, checked)
            document.getElementById(`${id}`).checked = checked
        })
    </script>
</body>

</html>